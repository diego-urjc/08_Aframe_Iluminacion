<!DOCTYPE html>

<html>
  <head>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script src="camrender.js"></script>
  </head>
  <body>
    <a-scene xr-mode-ui="XRMode: xr">
        <a-assets>
            <img src="sun.jpg" id="sun">
            <img src="moon.jpg" id="moon">
            <img src="rock.jpg" id="rock">
            <img src="grass.jpg" id="grass">

            <!-- Lienzos para que rendericen las cámaras -->
            <canvas id="cam1"></canvas>
            <canvas id="cam2"></canvas>
          </a-assets>
      <a-entity id="roja" position="-2 1 -3"
        geometry="primitive: cone; height:2"  material="src: #rock"
        shadow="receive: true">
      </a-entity>
      <a-entity id="azul" position="-0.7 1.5 -2.5"
        geometry="primitive: cone; height:3"  material="src: #rock"
        shadow="receive: true">
      </a-entity>

      <a-entity id="marron" position="0.7 2 -2"
        geometry="primitive: cone; height:4"  material="src: #rock"
        shadow="receive: true">
      </a-entity>

      <a-entity id="roja" position="3.5 1 -3"
        geometry="primitive: cone; height:2"  material="src: #rock"
        shadow="receive: true">
      </a-entity>
      <a-entity id="azul" position="2.1 1.5 -2.5"
        geometry="primitive: cone; height:3"  material="src: #rock"
        shadow="receive: true">
      </a-entity>

      <a-entity id="verde" position="1 0 -3" rotation="-90 0 0"
        geometry="primitive: plane; width: 12; height: 8" material="src: #grass"
        shadow="receive: true">
      </a-entity>
      <a-entity light="type: hemisphere; color: blue; groundColor: green; intensity: 3">
      </a-entity>

      <!-- Pantalla para mostrar la cámara principal -->
      <a-plane position="6 1 1" rotation="0 -15 0" width="3" height="2"
               material="src: #cam1; opacity: .90" canvas-updater>
        </a-plane>

      <a-entity position="0 0 5" wasd-controls="fly: true;">
            <a-entity camera camrender="cid: cam1" position="0 1.6 0" look-controls>
                  
            </a-entity>
       </a-entity>
      

      <a-entity light="type: ambient; color: #BBB"></a-entity>
      <a-entity position="2 0 -3.3"
      animation="property: rotation; from: 0 0 0; to: 0 0 350;
            dur: 12000; easing: linear; loop: true; "
      
          >
        <a-entity light="type: directional; intensity: 5;
              castShadow: true"
            position="-7.9 0 0"
            animation="property: light.color; from: #efe819; to: #ef1919; dur: 5000
              easing: linear; loop: true; dir: alternate">
          <a-entity geometry="primitive: sphere; radius: 0.7"
              material="src: #sun"
              rotation="0 0 90" position="0 0 0">
          </a-entity>
        </a-entity>
      </a-entity>

      <a-entity position="2 0 -3.3"
        animation="property: rotation; from: 0 0 0; to: 0 0 350;
        dur: 12000; easing: linear; loop: true;">
  
        <a-entity light="type: directional; intensity: 5;
            castShadow: false"
            position="7.9 0 0"
            animation="property: light.color; from: #115488; to: #041e33; dur: 5000;
            easing: linear; loop: true; dir: alternate">
    
            <a-entity geometry="primitive: sphere; radius: 0.4"
                material="src:#moon"
                rotation="0 0 90" position="0 0 0">
            </a-entity>

  </a-entity>
</a-entity>
      <a-entity position="0 0 4" movement-controls>
        <a-entity camera position="0 1.6 0" look-controls wasd-controls>
        </a-entity>
      </a-entity>
      
      <a-sky  color="#9fcfd3"></a-sky>
    </a-scene>
  </body>
</html>